# 七、数据定义语言DDL

## 库的操作：

```sql
创建：create
			create database abc;#创建一个仓库			
		删除：drop
			drop database abc;#删除一个仓库
```

## 表的操作：

```sql
创建:create
	语法：
	create table 表名(
		字段名称1 字段类型1(字段长度1) 字段约束,
		字段名称2 字段类型2(字段长度2) 字段约束,
		字段名称3 字段类型3(字段长度3) 字段约束,
		字段名称4 字段类型4(字段长度4) 字段约束,
		......
	);
```

## 数据类型：

### 字符串类型：字段长度必须指定

- **char：**定长字符串，长度一旦定义，不可改变(忽略数据内容，永远占据固定的长度)有一个字段长度定义为10，数据是'张三'，剩余的8个空间大小，会使用空格填充。取值范围255字符，最大可存255个字符。
- 缺点：可能会浪费硬盘空间
- 优点：执行效率高



- **varchar：**可变长字符串,长度一旦定义，最大存储数据是固定的，有一个字段长度定义为10，数据是'张三'，剩余的8个空间会释放掉，取值范围65535个字节，如果数据是中文，需要根据字符编码换算成字符。
- 缺点：执行效率低
- 优点：节省硬盘空间

```sql
create table stu1(
	name1 varchar(10),#10表示指定的最大存储长度是10个字符
	name2 char(10)#10表示指定的最大存储长度是10个字符
);

mysql> desc stu1;
+-------+-------------+------+-----+---------+-------+
| Field | Type        | Null | Key | Default | Extra |
+-------+-------------+------+-----+---------+-------+
| name1 | varchar(10) | YES  |     | NULL    |       |
| name2 | char(10)    | YES  |     | NULL    |       |
+-------+-------------+------+-----+---------+-------+
2 rows in set (0.00 sec)
```

**推荐：**

- 如果数据是可以确定长度的，选择char类型 性别

- 如果数据是不能确定长度的，选择varchar类型

### 整数类型：长度可以指定也可以不指定

默认整数类型是int或integer

```sql
create table stu2(
	num01 int(5),
	num02 integer(5),
	num03 int
);
mysql> desc stu2;
+-------+---------+------+-----+---------+-------+
| Field | Type    | Null | Key | Default | Extra |
+-------+---------+------+-----+---------+-------+
| num01 | int(5)  | YES  |     | NULL    |       |
| num02 | int(5)  | YES  |     | NULL    |       |
| num03 | int(11) | YES  |     | NULL    |       |
+-------+---------+------+-----+---------+-------+
3 rows in set (0.00 sec)
insert into stu2(num01,num02,num03) values(100,100,100);
insert into stu2(num01,num02,num03) values(12345,12345,12345);
insert into stu2(num01,num02,num03) values(12345678,12345678,12345678);
```

#### 关于整数类型的长度问题

- 说明：一般称之为长度，但是实际上表示的是宽度(mysql默认不启用宽度概念)，在整数类型中编写的(5)，没有任何意义；长度的定义对于取值没有任何限制。

```sql
create table stu3(
	num01 int(1),
	num02 int(11)
);
mysql> desc stu3;
+-------+---------+------+-----+---------+-------+
| Field | Type    | Null | Key | Default | Extra |
+-------+---------+------+-----+---------+-------+
| num01 | int(1)  | YES  |     | NULL    |       |
| num02 | int(11) | YES  |     | NULL    |       |
+-------+---------+------+-----+---------+-------+
2 rows in set (0.00 sec)
insert into stu3(num01,num02) values(1234567890,1234567890);
```

#### 关于整数类型的宽度问题

- 宽度实际上是整数类型的显示位数，可以指定显示的最小位数。

```sql
create table stu4(
	num01 int(4),
	num02 int(1) zerofill#启动宽度概念
);
mysql> desc stu4;
+-------+--------------------------+------+-----+---------+-------+
| Field | Type                     | Null | Key | Default | Extra |
+-------+--------------------------+------+-----+---------+-------+
| num01 | int(4)                   | YES  |     | NULL    |       |
| num02 | int(4) unsigned zerofill | YES  |     | NULL    |       |
+-------+--------------------------+------+-----+---------+-------+
2 rows in set (0.00 sec)
insert into stu4(num01,num02) values(1234567890,1234567890);
insert into stu4(num01,num02) values(12,12);
insert into stu4(num01,num02) values(12,-123);
mysql> select * from stu4;
+------------+------------+
| num01      | num02      |
+------------+------------+
| 1234567890 | 1234567890 |
|         12 |       0012 |
+------------+------------+
2 rows in set (0.00 sec)
```

#### 浮点数类型：长度可以指定也可以不指定

- 常用的类型是double类型，双精度的数据类型，可以精确到小说点后15到16位
- 其余的浮点类型
  - float 单精度
  - decimal 精准型浮点数
    - (m,n)，m范围是1到65，n范围是0到30

```sql
create table stu5(
	sal01 double,
	sal02 double(3,1)#3表示数据存储的最大位数，1表示#小数部分的位数						
);
+-------+-------------+------+-----+---------+-------+
| Field | Type        | Null | Key | Default | Extra |
+-------+-------------+------+-----+---------+-------+
| sal01 | double      | YES  |     | NULL    |       |
| sal02 | double(3,1) | YES  |     | NULL    |       |
+-------+-------------+------+-----+---------+-------+
2 rows in set (0.00 sec)
insert into stu5(sal01,sal02) values(1234567.7654321,5.67);
insert into stu5(sal02) values(99.9);
insert into stu5(sal02) values(-99.9);
insert into stu5(sal02) values(-99.94);
insert into stu5(sal02) values(-99.95);#报错
insert into stu5(sal02) values(100);#报错
```

#### 时间类型：没有长度

- date  年月日
- time  时分秒
- datetime 年月日时分秒
- year 单独的年份

说明：在时间处理中存在一个函数的，表示当前系统时间now()，表示时间数据

```sql
create table stu6(
	hiredate01 date,
	hiredate02 time,
	hiredate03 datetime,
	hiredate04 year					
);
mysql> desc stu6;
+------------+----------+------+-----+---------+-------+
| Field      | Type     | Null | Key | Default | Extra |
+------------+----------+------+-----+---------+-------+
| hiredate01 | date     | YES  |     | NULL    |       |
| hiredate02 | time     | YES  |     | NULL    |       |
| hiredate03 | datetime | YES  |     | NULL    |       |
| hiredate04 | year(4)  | YES  |     | NULL    |       |
+------------+----------+------+-----+---------+-------+
4 rows in set (0.00 sec)
insert into stu6(hiredate01,hiredate02,hiredate03,hiredate04) values(now(),now(),now(),'1999');
```

#### 文本类型

- 也可以称之为是字符串类型,种类很多，标志是text
- 如果字符串类型长度不够，选择使用文本类型，文本类型最大支持存储4G左右的数据

#### 二进制类型

- 用来存储二进制文件的，标志是blob
- 如果需要存储二进制文件,可以选择存储文件的绝对路径，在数据库中操作的是这个路径字符串**（推荐）**

### 字段约束

#### 非空约束 not null

#### 唯一约束 unique

#### 主键约束 primary key

#### 外键约束 foreign key